{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "title": "drug_administrations",
  "description": "Array of all drug administration protocols.",
  "$id": "json_schema/drug_administration_protocol",
  "type": "array",
  "minItems": 0,
  "items": {
    "type": "object",
    "title": "drug_administration",
    "description": "Drug administration protocol. One per administered compound and respective formulation.",
    "properties": {
      "administrations": {
        "title": "administrations",
        "description": "Array of drug administrations per administration protocol. One per administered dose.",
        "type": "array",
        "items": {
          "type": "object",
          "description": "Time point of the drug administration.",
          "title": "administration",
          "properties": {
            "time": {
              "type": "number",
              "nullable": false
            },
            "dose": {
              "description": "Dose of the drug administration.",
              "type": "number",
              "nullable": false
            },
            "duration": {
              "description": "Duration of the drug administration i.e., in case of infusions.",
              "type": "integer",
              "nullable": true
            }
          },
          "required": ["time", "dose", "duration"]
        }
      },
      "time_unit": {
        "type": "string",
        "description": "Unit of the time."
      },
      "dose_unit": {
        "type": "string",
        "description": "Unit of the administered dose."
      },
      "duration_unit": {
        "description": "Unit of the dosing duration.",
        "type": "string"
      },
      "administered_compound": {
        "description": "Compound name of the administered compound. Must match compound_name or compound_alias of compoundInfo.",
        "type": "string"
      },
      "formulation": {
        "description": "Formulation of the administered doses, e.g., immediate release tablet",
        "type": "string"
      },
      "formulation_comment": {
        "description": "Additional information about the formulation, e.g., brand name.",
        "type": "null"
      },
      "administration_route": {
        "description": "Route of the administration, e.g., oral.",
        "type": "string",
        "enum": ["oral", "iv", "transdermal", "inhalation"]
      }
    },
    "required": [
      "administrations",
      "time_unit",
      "dose_unit",
      "duration_unit",
      "administered_compound",
      "formulation",
      "formulation_comment",
      "administration_route"
    ]
  }
}

{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "title": "meal_administration",
  "description": "Array containing all meal administrations for a given protocol.",
  "$id": "profile/meal_administrations",
  "type": "array",
  "items": {
    "type": "object",
    "title": "meal_administration",
    "description": "Meal administration protocol. One object per type of meal.",
    "properties": {
      "administrations": {
        "title": "administrations",
        "description": "Array of meal administrations per administration protocol. One per type of administered meal.",
        "type": "array",
        "items": {
          "type": "object",
          "title": "administration",
          "description": "Object describing a single meal administration.",
          "additionalProperties": false,
          "properties": {
            "time": {
              "description": "Time point of the drug administration.",
              "type": "number"
            },
            "calorific_value": {
              "description": "Dose of the drug administration.",
              "type": "number"
            }
          }
        }
      },
      "meal_composition": {
        "description": "Composition of the meal in percentages.",
        "type": "object",
        "title": "meal_composition",
        "additionalProperties": true,
        "properties": {
          "carbohydrates": {
            "description": "Percentage of carbohydrates.",
            "type": "number"
          },
          "protein": {
            "description": "Percentage of protein.",
            "type": "number"
          },
          "fat": {
            "description": "Percentage of fat.",
            "type": "number"
          },
          "fiber": {
            "description": "Percentage of fiber.",
            "type": "number"
          }
        }
      },
      "meal_description": {
        "description": "Description of the meal, i.e. 'light meal'.",
        "type": "string"
      },
      "volume": {
        "description": "Volume of the meal.",
        "type": ["number", "null"]
      },
      "volume_unit": {
        "description": "Unit of the meal volume.",
        "type": ["string", "null"]
      },
      "fraction_solid": {
        "description": "Solid fraction of the meal.",
        "type": ["number", "null"]
      }
    },
    "time_unit": {
      "type": "string",
      "description": "Unit of the time."
    },
    "calorific_value_unit": {
      "type": "string",
      "description": "Unit of the administered caloric."
    },
    "required": ["administrations", "time_unit", "calorific_value_unit"]
  }
}
